<!DOCTYPE html> <html lang><!--
 Page saved with SingleFile 
 url: https://utf9k.net/blog/conditional-gitconfig/ 
 saved date: Wed Sep 14 2022 16:21:15 GMT+0000 (Coordinated Universal Time)
--><head><meta charset="utf-8">
    
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Conditionally setting your gitconfig | utf9k</title>
<meta name="description" content>

<meta name="generator" content="Eleventy v1.0.1">

<style>*,*::before,*::after{box-sizing:border-box}*{margin:0}:root{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;--user-font-scale:.9rem - 16px;font-size:clamp(0.6rem,0.4626rem + 1.0309vw + var(--user-font-scale),.85rem);--text-light:#d0d1c7;--text-dark:#1e1e1e;--bg-light:#eaebe3;--bg-dark:#1f2738}html,body{height:100%;width:100%}body{line-height:1.5;background:var(--bg-light);color:var(--text-dark)}#content{display:grid;justify-content:center;padding:2rem clamp(3rem,1rem,5rem)}@media (prefers-color-scheme:dark){body{background:var(--bg-dark);color:var(--text-light)}}img{display:block;max-width:100%}a{color:inherit}p,h1{overflow-wrap:break-word}h1{font-size:2.25em;font-weight:800;line-height:1.11}.navigation{display:flex;padding:.8rem}.navigation a{display:flex;height:fit-content;flex-direction:row;text-decoration:none;width:100%}.navigation a span{font-size:1em;font-weight:500;margin-left:.5rem}.navigation a img{height:1.4rem;width:1.4rem}.navigation nav{display:flex;list-style:none}.navigation nav span{color:var(--text-light);padding:0 0.3rem}@media (prefers-color-scheme:dark){.navigation nav span{color:var(--text-dark)}}#content header #post-meta{font-size:.75rem;font-weight:500;letter-spacing:.025em;line-height:1rem;text-transform:uppercase;padding-top:.6em}#content header{padding-bottom:1.3rem}pre{font-size:.875em;overflow-x:auto}article:not(.full){margin:0 auto;max-width:60ch}article #post-body p{margin-bottom:1.5rem}article p code{background-color:var(--bg-dark);color:var(--text-light);font-family:inherit;font-size:.75rem;font-weight:500;letter-spacing:.025em;line-height:1rem;padding:0.2rem 0.3rem}@media (prefers-color-scheme:dark){article p code{background-color:var(--bg-light);color:var(--text-dark)}}pre[class*=language-]{width:120%!important;margin-left:-10%!important}</style>
<style></style>
<style>:root{--background:#282A36;--comment:#6272A4;--foreground:#F8F8F2;--selection:#44475A;--cyan:#8BE9FD;--green:#50FA7B;--orange:#FFB86C;--pink:#FF79C6;--purple:#BD93F9;--red:#FF5555;--yellow:#F1FA8C;--background-30:#282A3633;--comment-30:#6272A433;--foreground-30:#F8F8F233;--selection-30:#44475A33;--cyan-30:#8BE9FD33;--green-30:#50FA7B33;--orange-30:#FFB86C33;--pink-30:#FF79C633;--purple-30:#BD93F933;--red-30:#FF555533;--yellow-30:#F1FA8C33;--background-40:#282A3666;--comment-40:#6272A466;--foreground-40:#F8F8F266;--selection-40:#44475A66;--cyan-40:#8BE9FD66;--green-40:#50FA7B66;--orange-40:#FFB86C66;--pink-40:#FF79C666;--purple-40:#BD93F966;--red-40:#FF555566;--yellow-40:#F1FA8C66}pre::-webkit-scrollbar{width:14px}pre::-webkit-scrollbar-track{background-color:var(--comment);border-radius:0}pre::-webkit-scrollbar-thumb{background-color:var(--purple);border-radius:0}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background-color:var(--selection)}code[class*=language-],pre[class*=language-]{color:var(--foreground);background:var(--background);text-shadow:none;font-family:PT Mono,Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{border-radius:.5em;padding:1em;margin:.5em 0;overflow:auto;height:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:var(--background)}:not(pre)>code[class*=language-]{padding:4px 7px;border-radius:.3em;white-space:normal}.token.boolean{color:var(--purple)}.token.class-name{color:var(--cyan)}.token.function{color:var(--green)}.token.punctuation{color:var(--pink)}.token.string{color:var(--yellow)}.token.operator{color:rgba(139,233,253,1)}</style>



  <link type="image/x-icon" rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP//AAAAgABAQEAAYGBgAAD/AACAgIAAoKCgAMDAwADg4OAAAICAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwYABgcGCgYCAgYHBgAGBwQDAAYHBgEGCwsGBwYAAwQHBgAGBwYKBgICBgcGAAYHBAMABgcGAQYLCwYHBgADBAgGAwYHBgYGBgYGBwYDBggABwMGBwcHBwcHBwcGAwcAAAAEBwYGBgYGBgYGBwQAAAAAAAgICAcHBwcICAgAAAAAAAAAAAQDAwMDBAAAAAAAAAAAAAcGBgYGBgYHAAAAAAAAAAAHBgQJCQQGBwAAAAAAAAADBwYGBgYGBgcDAAAAAAAABAcGBQYGBQYHBAAAAAAAAAQIBgYGBgYGCAQAAAAAAAAEAAgICAgICAAEAAAAAAAAAwAAAAAAAAAAAwAAACAEAAAgBAAAIAQAACAEAAAAAAAAgAEAAMADAADgBwAA+B8AAPAPAADwDwAA4AcAAOAHAADgBwAA6BcAAO/3AAA="><link rel="canonical" href="https://utf9k.net/blog/conditional-gitconfig/"><meta http-equiv="content-security-policy" content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
  <body>
    <header class="navigation">
  <a href="https://utf9k.net/" id="logo">
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAABAQEBgYGDAwMCAgICgoKAA/wDg4OD//wD/AACAgACAAABM9/hNAAAAAXRSTlMAQObYZgAAAGtJREFUCNdjYGBkAAIBIGZiNjY2UAAxTFxcnMGMkBQ3VxCDMcTFxRWkhiFEvciVAcwAioAZTIKCICUMzMahocYGQIaqCxAEMTCwioQCgWMAg4kISLGjM4MiS0jLTFcHIYYQlpAlu10dXDFFAPjEF9XWoSYkAAAAAElFTkSuQmCC" alt="utf9k" width="16px" height="16px">
    <span>utf9k</span>
  </a>
  <nav>
    <li>
      <a href="https://utf9k.net/blog">Blog</a>
    </li>
    <span>//</span>
    <li>
      <a href="https://utf9k.net/projects">Projects</a>
    </li>
    <span>//</span>
    <li>
      <a href="https://utf9k.net/about">About</a>
    </li>
    <span>//</span>
    <li>
      <a href="https://utf9k.net/questions">Questions</a>
    </li>
    <span>//</span>
    <li>
      <a href="https://utf9k.net/rss.xml">RSS</a>
    </li>
  </nav>
</header>

    <div id="content">
      
<article>
  <header>
    <h1>Conditionally setting your gitconfig</h1>
    <div id="post-meta">
      <time datetime="Thu Aug 12 2021 07:17:00 GMT+0000 (Coordinated Universal Time)">August 12, 2021</time> Â· TIME TO READ
    </div>
  </header>
  <div id="post-body">
    <p>Personally, I try to keep my development environment as convenient to use as possible and with the advent of <a href="https://cloud.google.com/beyondcorp">BeyondCorp-style zero trust</a>, more internal services are thankfully available without a VPN required.</p>
<p>This makes it easy to access tooling from your mobile device and other places but it can also mean the line between work and personal blurs a little bit.</p>
<p>A lot of my custom work-related configuration has been deprecated (utilities for wrangling VPNs and proxies) and I basically don't maintain anything more than what was <a href="https://github.com/marcus-crane/dotfiles">already open sourced</a>.</p>
<p>One last holdout has been my git configuration however, as I want to create work commits with my work email and vice versa for open source commits. It had been my impression that git had no way to support this but that hasn't been true for some time.</p>
<p>Thanks to <a href="https://git-scm.com/docs/git-config#_conditional_includes">conditional includes</a>, you can dynamically switch instances of your <code>.gitconfig</code> on the fly.</p>
<p>Let's look at an example. For example purposes, let's say that my code lives in <code>$HOME/work</code> and my personal code lives in <code>$HOME/projects</code>. You can do something like this:</p>
<pre class="language-shell"><code class="language-shell"><span class="token punctuation">[</span>user<span class="token punctuation">]</span><br>  email <span class="token operator">=</span> user@example.com<br>  name <span class="token operator">=</span> User<br>  signingkey <span class="token operator">=</span> ABC123<br><span class="token punctuation">[</span>commit<span class="token punctuation">]</span><br>  gpgSign <span class="token operator">=</span> <span class="token boolean">true</span><br><span class="token punctuation">[</span>includeIf <span class="token string">"gitdir:~/work/"</span><span class="token punctuation">]</span><br>  path <span class="token operator">=</span> ~/.work.gitconfig</code></pre>
<p>What we're doing here is setting our default variables but upon interacting with a <code>.git</code> initialised repository within the <code>~/work</code> folder, we instead use our work-based config.</p>
<p>Let's see an example of this in action:</p>
<pre class="language-shell"><code class="language-shell"><span class="token operator">&gt;</span> <span class="token builtin class-name">pwd</span><br>/Users/person<br><span class="token operator">&gt;</span> <span class="token function">git</span> config user.email<br>user@example.com<br><span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> ~/work<br><span class="token operator">&gt;</span> <span class="token builtin class-name">pwd</span><br>/Users/person/work<br><span class="token operator">&gt;</span> <span class="token function">git</span> config user.email<br>business@work.com</code></pre>
<p>Pretty cool, huh?</p>

  </div>
</article>


    </div>
  

</body></html>
