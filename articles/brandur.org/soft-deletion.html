<!DOCTYPE html> <html lang="en" style><!--
 Page saved with SingleFile 
 url: https://brandur.org/soft-deletion 
 saved date: Mon Sep 12 2022 03:51:19 GMT+0000 (Coordinated Universal Time)
--><head><meta charset="utf-8"><title>Soft Deletion Probably Isn't Worth It — brandur.org</title><meta name="viewport" content="width=device-width">





<link rel="shortcut icon" type="image/jpg" sizes="256x256" href="data:image/jpeg;base64,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">

<link href="https://brandur.org/articles.atom" rel="alternate" title="Articles — brandur.org" type="application/atom+xml"><link href="https://brandur.org/fragments.atom" rel="alternate" title="Fragments — brandur.org" type="application/atom+xml"><link href="https://brandur.org/sequences.atom" rel="alternate" title="Sequences — brandur.org" type="application/atom+xml"><style media="screen">html,body,div,span,h1,h2,h3,p,pre,a,code,em,strong,sup,ol,ul,li,article,nav{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,nav{display:block}ol,ul{list-style:none}body{background:#fff;color:#222;font-family:cardo,georgia,serif;line-height:1.7em;margin:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.flag{background-image:linear-gradient(to bottom,#336699 0%,transparent 100%);overflow:hidden;width:10px;min-width:10px}.flexcontainer{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row}.content,.toc-index,.top-nav{margin-bottom:50px;margin-top:50px}.toc-index,.top-nav{margin-left:10px;margin-right:10px;margin-top:150px;width:100px;min-width:100px}.nav-inner{width:100px}.content{margin-left:50px;margin-right:50px;-webkit-flex:1;flex:1}.top-nav{margin-left:40px}.top-nav .nav-inner{overflow:auto;position:-webkit-sticky;position:sticky;top:50px}.top-nav nav{font-family:"helvetica neue",helvetica,arial,geneva,sans-serif;font-size:0.7rem;font-weight:bold;text-align:right;text-transform:uppercase}.top-nav nav a{border-bottom:0;color:#222}.top-nav nav a:hover{border-bottom:2px solid #222;color:#222}.top-nav nav ul{line-height:1em;list-style-type:none;margin:0}.top-nav nav ul li{margin:8px 0}.top-nav nav ul li:first-child{margin-top:0}.top-nav .nav-extra-content{font-family:"helvetica neue",helvetica,arial,geneva,sans-serif;font-size:0.65rem;line-height:1.4em;text-align:right;margin-right:2px}.top-nav .nav-extra-content p{hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;margin:10px 0}a{border-bottom:1px solid #222;color:#222;text-decoration:none}a:hover{border-bottom:0}code{background:#f6f6f6;font-family:Monaco,"Lucida Console","Bitstream Vera Sans Mono",Courier,monospace;font-size:0.80rem;padding:2px 4px}em{font-style:italic}h1,h2,h3{color:#000;font-family:"helvetica neue",helvetica,arial,geneva,sans-serif;font-weight:400}h2 a,h3 a{border-bottom:0;color:#000}h1{font-size:5.75rem;letter-spacing:-6px;line-height:1em;margin:20px 0 30px 0}h3{font-weight:600}h2{font-size:1rem;font-weight:bold;letter-spacing:-1px;margin:30px 0-15px 0}h3{font-size:0.85rem;letter-spacing:-1px;margin:30px 0-20px 0}html{font-size:100%}p{hyphens:auto;-ms-hyphens:auto;-webkit-hyphens:auto;margin:20px 0}pre[class*="language-"]{background:#f6f6f6;font-family:Monaco,"Lucida Console","Bitstream Vera Sans Mono",Courier,monospace;font-size:0.75rem!important;line-height:1.4em;overflow:visible;padding:25px;width:calc(650px - 2*25px)}pre[class*="language-"] code[class*="language-"]{background:transparent;border:0;display:block;line-height:1.5;text-shadow:0 1px #fff}strong{font-weight:bold}sup{font-size:0.85rem;vertical-align:super}.divider{border-bottom:1px solid #dedede;margin:30px 0}.divider-short{border-bottom:1px solid #dedede;margin:30px auto;width:80%}.toc{font-family:"helvetica neue",helvetica,arial,geneva,sans-serif;font-size:0.65rem;line-height:1.5em;margin:0 0 0 30px;width:200px}.toc h2{font-family:"helvetica neue",helvetica,arial,geneva,sans-serif;font-size:0.65rem;font-weight:bold;letter-spacing:-0.5px;margin:0 0 15px 0;text-transform:uppercase}.toc ol{list-style-type:decimal;margin:5px 0}.toc ol li{margin-bottom:8px;margin-top:8px;margin-left:16px;padding-left:10px}.toc ol li ol{font-size:0.65rem;list-style-type:lower-alpha}.toc ol li ol a{border-bottom:1px solid #dedede}.toc ol li ol a:hover{border-bottom:none}.toc ol li ol li{margin-bottom:7px;margin-top:7px}article ul{list-style-type:disc}article ul{margin:25px 0}article ul li{margin-bottom:10px;margin-left:40px;padding-left:5px}article strong{font-family:"helvetica neue",helvetica,arial,geneva,sans-serif}article .footnotes{border-top:1px solid #dedede;margin:30px auto;width:90%}article .info{font-style:italic;line-height:1.6em;text-align:left}article.big li,article.big p{font-size:1rem;line-height:1.75em}article.big strong{font-size:0.95rem}article.big .footnotes p,article.big .info p{font-size:0.85rem;line-height:1.6em}@media handheld,only screen and (max-width:1100px),only screen and (max-device-width:1100px){pre{overflow:auto;width:auto}.toc-index{display:none}#container .content{overflow:hidden}}@media handheld,only screen and (max-width:767px),only screen and (max-device-width:767px){.flexcontainer{flex-direction:column}.top-nav{height:100px;margin:20px 8%!important;order:4;width:84%}.top-nav .nav-inner{margin:0 auto;position:initial;text-align:center;width:auto}.top-nav .nav-inner nav{display:inline-block}.top-nav .nav-inner nav ul li{float:left;line-height:1.8em;margin:0 5px}.top-nav .nav-extra-content{display:none}.toc{float:none;margin:0;width:auto}h1,h2,h3{hyphens:auto;-ms-hyphens:auto;-webkit-hyphens:auto}h1{font-size:4.5rem}pre[class*="language-"]{font-size:0.75rem!important;width:auto}article.big li,article.big p{font-size:1rem;line-height:1.7em}article.big .footnotes p,article.big .info p{font-size:0.8rem}#container{max-width:100%}#container .content{margin:0 8%;width:84%}}.signature .content .signature-content-header{max-width:1000px}.signature .content .signature-content-header h1{border-bottom:10px solid #000;margin-bottom:50px;padding-bottom:50px}.signature .content .signature-content{max-width:680px}.signature .content .signature-content article{max-width:550px}.signature .content .signature-content article>p:first-of-type:first-letter{float:left;font-family:"helvetica neue",helvetica,arial,geneva,sans-serif;font-size:6.25rem;line-height:0.7em;margin:5px 10px 0 0}.signature .content .toc{float:right}@media handheld,only screen and (max-width:767px),only screen and (max-device-width:767px){.signature .content .signature-content-header h1{border-bottom:8px solid #000;margin-bottom:40px;padding-bottom:40px}.signature .content .signature-content article{max-width:100%}.signature .content .signature-content article>p:first-of-type:first-letter{font-size:4rem}.signature .content .signature-content .toc{float:none}}</style><style media="screen">code[class*="language-"],pre[class*="language-"]{color:black;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*="language-"]::selection,pre[class*="language-"] ::selection,code[class*="language-"]::selection,code[class*="language-"] ::selection{text-shadow:none;background:#b3d4fc}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*="language-"],pre[class*="language-"]{background:#f5f2f0}:not(pre)>code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment{color:slategray}.token.punctuation{color:#999}.token.boolean,.token.number{color:#905}.token.string{color:#690}.token.operator{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.keyword{color:#07a}.token.function{color:#DD4A68}.token.variable{color:#e90}</style><style>@font-face{font-family:"Cardo";font-style:normal;font-weight:400;src:url(data:font/woff2;base64,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)format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@brandur"><meta name="twitter:creator" content="@brandur"><meta name="twitter:title" content="Soft Deletion Probably Isn't Worth It"><meta name="twitter:description" content="The traditional soft deletion pattern using <code>deleted_at</code> columns leaks into code, curbs the usefulness of foreign keys, and makes data removal difficult. Luckily, there&amp;rsquo;s an alternative."><style>.sf-hidden{display:none!important}</style><link rel="canonical" href="https://brandur.org/soft-deletion"><meta http-equiv="content-security-policy" content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head><body class><div id="container"><div class="signature"><div class="flexcontainer"><div class="flag"></div><div class="top-nav"><div class="nav-inner"><nav><ul><li><a href="https://brandur.org/" title="Home">△</a></li><li><a href="https://brandur.org/articles" title="Longform articles">Articles</a></li><li><a href="https://brandur.org/newsletter" title="Email newsletters I publish">Newsletters</a></li><li><a href="https://brandur.org/fragments" title="Fragments (short articles)">Fragments</a></li><li><a href="https://brandur.org/photos" title="Photography">Photos</a></li><li><a href="https://brandur.org/now" title="What I'm doing now">Now</a></li><li><a href="https://brandur.org/about" title="About me &amp; this site">About</a></li></ul></nav><div class="nav-extra-content"><div class="divider"></div><p><strong>Article</strong><br>Soft Deletion Probably Isn't Worth It</p><p><strong>Published</strong><br>July 19, 2022</p><p><strong>Location</strong><br>San Francisco</p><div class="divider"></div><p>Find me on Twitter at <strong><a href="https://twitter.com/brandur">@brandur</a></strong>.</p></div></div></div><div class="toc-index"></div><div class="content"><div class="signature-content-header"><div id="title"><h1>Soft Deletion Probably Isn't Worth It</h1></div></div><div class="signature-content"><div class="toc"><h2>Contents</h2><ol><li><a href="#code-leakage">Downsides: Code leakage</a><ol><li><a href="#foreign-keys">Losing foreign keys</a></li><li><a href="#pruning">Pruning data is hard</a></li><li><a href="#undelete">Does undelete really work?</a></li></ol></li><li><a href="#deleted-records">Alternative: A deleted records table</a></li></ol><div class="divider-short"></div></div><article class="big"><p>Anyone who’s seen a couple different production database environments is likely familiar with the “soft deletion” pattern – instead of deleting data directly via <code>DELETE</code> statement, tables get an extra <code>deleted_at</code> timestamp and deletion is performed with an update statement instead:</p>

<pre class=" language-sql"><code class=" language-sql"><span class="token keyword">UPDATE</span> foo <span class="token keyword">SET</span> deleted_at <span class="token operator">=</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> $<span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>

<p>The concept behind soft deletion is to make deletion safer, and reversible. Once a record’s been hit by a hard <code>DELETE</code>, it may technically still be recoverable by digging down into the storage layer, but suffice it to say that it’s really hard to get back. Theoretically with soft deletion, you just set <code>deleted_at</code> back to <code>NULL</code> and you’re done:</p>

<pre class=" language-sql"><code class=" language-sql"><span class="token comment">-- and like magic, it's back!!</span>
<span class="token keyword">UPDATE</span> foo <span class="token keyword">SET</span> deleted_at <span class="token operator">=</span> <span class="token boolean">NULL</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> $<span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>

<h2 id="code-leakage" class="link"><a href="#code-leakage">Downsides: Code leakage</a></h2>

<p>But this technique has some major downsides. The first is that soft deletion logic bleeds out into all parts of your code. All our selects look something like this:</p>

<pre class=" language-sql"><code class=" language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> customer
<span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token variable">@id</span>
    <span class="token operator">AND</span> deleted_at <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre>

<p>And forgetting that extra predicate on <code>deleted_at</code> can have dangerous consequences as it accidentally returns data that’s no longer meant to be seen.</p>

<p>Some ORMs or ORM plugins make this easier by automatically chaining the extra <code>deleted_at</code> clause onto every query (see <a href="https://github.com/ActsAsParanoid/acts_as_paranoid"><code>acts_as_paranoid</code></a> for example), but just because it’s hidden doesn’t necessarily make things better. If an operator ever queries the database directly they’re even more likely to forget <code>deleted_at</code> because normally the ORM does the work for them.</p>

<h3 id="foreign-keys" class="link"><a href="#foreign-keys">Losing foreign keys</a></h3>

<p>Another consequence of soft deletion is that foreign keys are effectively lost.</p>

<p>The major benefit of foreign keys is that they guarantee referential integrity. For example, say you have customers in one table that may refer to a number of invoices in another. Without foreign keys, you could delete a customer, but forget to remove its invoices, thereby leaving a bunch of orphaned invoices that reference a customer that’s gone.</p>

<p>With foreign keys, trying to remove that customer without removing the invoices first is an error:</p>

<pre class=" language-sql"><code class=" language-sql">ERROR:  <span class="token keyword">update</span> <span class="token operator">or</span> <span class="token keyword">delete</span> <span class="token keyword">on</span> <span class="token keyword">table</span> <span class="token string">"customer"</span> violates
    <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token keyword">constraint</span> <span class="token string">"invoice_customer_id_fkey"</span> <span class="token keyword">on</span> <span class="token keyword">table</span> <span class="token string">"invoice"</span>

DETAIL:  <span class="token keyword">Key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">64977</span>e2b<span class="token operator">-</span><span class="token number">40</span>cc<span class="token operator">-</span><span class="token number">4261</span><span class="token operator">-</span><span class="token number">8879</span><span class="token operator">-</span><span class="token number">1</span>c1e6243699b<span class="token punctuation">)</span> <span class="token operator">is</span> still
    referenced <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token string">"invoice"</span><span class="token punctuation">.</span>
</code></pre>

<p>As with other relational database features like predefined schemas, types, and check constraints, the database is helping to keep data valid.</p>

<p>But with soft deletion, this goes out the window. A customer may be soft deleted with its <code>deleted_at</code> flag set, but we’re now back to being able to forget to do the same for its invoices. Their foreign keys are still valid because the customer record is technically still there, but there’s no equivalent check that the invoices are also soft deleted, so you can be left with your customer being “deleted”, but its invoices still live.</p>

<h3 id="pruning" class="link"><a href="#pruning">Pruning data is hard</a></h3>

<p>The last few years have seen major advances in terms of consumer data protection like the roll out of <a href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation">GDPR</a> in Europe. As such, it’s generally frowned upon for data to be retained infinitely, which by default would be the case for soft deleted rows.</p>

<p>So you may eventually find yourself writing a hard deletion process which looks at soft deleted records beyond a certain horizon and permanently deletes them from the database.</p>

<p>But the same foreign keys that soft deletion rendered mostly useless now make this job more difficult because a record can’t be removed without also making sure that all its dependencies are removed as well (<code>ON DELETE CASCADE</code> could do this automatically, but use of cascade is fairly dangerous and not recommended for higher fidelity data).</p>

<p>Luckily, you can still do this in systems that support CTEs like Postgres, but you end up with some pretty elaborate queries. Here’s a snippet from one that I wrote recently which keeps all foreign keys satisfied by removing everything as part of a single operation:</p>

<pre class=" language-sql"><code class=" language-sql"><span class="token keyword">WITH</span> team_deleted <span class="token keyword">AS</span> <span class="token punctuation">(</span>
    <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> team
    <span class="token keyword">WHERE</span> <span class="token punctuation">(</span>
        team<span class="token punctuation">.</span>archived_at <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
        <span class="token operator">AND</span> team<span class="token punctuation">.</span>archived_at <span class="token operator">&lt;</span> <span class="token variable">@archived_at_horizon</span>::timestamptz
    <span class="token punctuation">)</span>
    <span class="token keyword">RETURNING</span> <span class="token operator">*</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token comment">--</span>
<span class="token comment">-- team resources</span>
<span class="token comment">--</span>
cluster_deleted <span class="token keyword">AS</span> <span class="token punctuation">(</span>
    <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> cluster
    <span class="token keyword">WHERE</span> team_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
        <span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> team_deleted
    <span class="token punctuation">)</span>
    <span class="token operator">OR</span> <span class="token punctuation">(</span>
        archived_at <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
        <span class="token operator">AND</span> archived_at <span class="token operator">&lt;</span> <span class="token variable">@archived_at_horizon</span>::timestamptz
    <span class="token punctuation">)</span>
    <span class="token keyword">RETURNING</span> <span class="token operator">*</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
invoice_deleted <span class="token keyword">AS</span> <span class="token punctuation">(</span>
    <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> invoice
    <span class="token keyword">WHERE</span> team_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
        <span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> team_deleted
    <span class="token punctuation">)</span>
    <span class="token operator">OR</span> <span class="token punctuation">(</span>
        archived_at <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
        <span class="token operator">AND</span> archived_at <span class="token operator">&lt;</span> <span class="token variable">@archived_at_horizon</span>::timestamptz
    <span class="token punctuation">)</span>
    <span class="token keyword">RETURNING</span> <span class="token operator">*</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token comment">--</span>
<span class="token comment">-- cluster + team resources</span>
<span class="token comment">--</span>
subscription_deleted <span class="token keyword">AS</span> <span class="token punctuation">(</span>
    <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> subscription
    <span class="token keyword">WHERE</span> cluster_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
        <span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> cluster_deleted
    <span class="token punctuation">)</span> <span class="token operator">OR</span> team_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
        <span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> team_deleted
    <span class="token punctuation">)</span>
    <span class="token keyword">RETURNING</span> <span class="token operator">*</span>
<span class="token punctuation">)</span>

<span class="token keyword">SELECT</span> <span class="token string">'cluster'</span><span class="token punctuation">,</span> array_agg<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> cluster_deleted
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> <span class="token string">'invoice'</span><span class="token punctuation">,</span> array_agg<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> invoice_deleted
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> <span class="token string">'subscription'</span><span class="token punctuation">,</span> array_agg<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> subscription_deleted
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> <span class="token string">'team'</span><span class="token punctuation">,</span> array_agg<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> team_deleted<span class="token punctuation">;</span>
</code></pre>

<p>The unabridged version of this is five times as long and includes a full 30 separate tables. It’s cool that this works, but is so overly elaborate as to be a liability.</p>

<p>And even with liberal testing, this kind of query can still end up being a reliability problem because in case a new dependency is added in the future but an update to the query is forgotten, it’ll suddenly start failing after a year’s (or whatever the hard delete horizon is) delay.</p>

<h3 id="undelete" class="link"><a href="#undelete">Does undelete really work?</a></h3>

<p>Once again, soft deletion is theoretically a hedge against accidental data loss. As a last argument against it, I’d ask you to consider, realistically, whether undeletion is something that’s ever actually done.</p>

<p>When I worked at Heroku, we used soft deletion.</p>

<p>When I worked at Stripe, we used soft deletion.</p>

<p>At my job right now, we use soft deletion.</p>

<p>As far as I’m aware, never <em>once</em>, in ten plus years, did anyone at any of these places ever actually use soft deletion to undelete something. <sup id="footnote-1-source"><a href="#footnote-1">1</a></sup></p>

<p>The biggest reason for this is that almost always, <strong>data deletion also has non-data side effects</strong>. Calls may have been made to foreign systems to archive records there, objects may have been removed in blob stores, or servers spun down. The process can’t simply be reversed by setting <code>NULL</code> on <code>deleted_at</code> – equivalent undos need to exist for all those other operations too, and they rarely do.</p>

<p>We had a couple cases at Heroku where an important user deleted an app by accident and wanted to recover it. We had soft deletion, and theoretically other delete side effects could’ve been reversed, but we still made the call not to try because no one had ever done it before, and trying to do it in an emergency was exactly the wrong time to figure it out – we’d almost certainly get something wrong and leave the user in a bad state. Instead, we rolled forward by creating a new app, and helping them copy environment and data from the deleted app to it. So even where soft deletion was theoretically most useful, we still didn’t use it.</p>

<h2 id="deleted-records" class="link"><a href="#deleted-records">Alternative: A deleted records table</a></h2>

<p>Although I’ve never seen an undelete work in practice, soft deletion wasn’t completely useless because we would occasionally use it to refer to deleted data – usually a manual process where someone wanted to see to a deleted object for purposes of assisting with a support ticket or trying to squash a bug.</p>

<p>And while I’d argue against the traditional soft deletion pattern due to the downsides listed above, luckily there’s a compromise.</p>

<p>Instead of keeping deleted data in the same tables from which it was deleted, there can be a new relation specifically for storing all deleted data, and with a flexible <code>jsonb</code> column so that it can capture the properties of any other table:</p>

<pre class=" language-sql"><code class=" language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> deleted_record <span class="token punctuation">(</span>
    id uuid <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">DEFAULT</span> gen_ulid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    deleted_at timestamptz <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">default</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    original_table <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    original_id uuid <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token keyword">data</span> jsonb <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>A deletion then becomes this:</p>

<pre class=" language-sql"><code class=" language-sql"><span class="token keyword">WITH</span> deleted <span class="token keyword">AS</span> <span class="token punctuation">(</span>
    <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> customer
    <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token variable">@id</span>
    <span class="token keyword">RETURNING</span> <span class="token operator">*</span>
<span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> deleted_record
		<span class="token punctuation">(</span>original_table<span class="token punctuation">,</span> original_id<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> to_jsonb<span class="token punctuation">(</span>deleted<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> deleted
<span class="token keyword">RETURNING</span> <span class="token operator">*</span><span class="token punctuation">;</span>
</code></pre>

<p>This does have a downside compared to <code>deleted_at</code> – the process of selecting columns into <code>jsonb</code> isn’t easily reversible. While it’s possible to do so, it would likely involve building one-off queries and manual intervention. But again, that might be okay – consider how often you’re really going to be trying to undelete data.</p>

<p>This technique solves all the problems outlined above:</p>

<ul>
<li><p>Queries for normal, non-deleted data no longer need to include <code>deleted_at IS NULL</code> everywhere.</p></li>

<li><p>Foreign keys still work. Attempting to remove a record without also getting its dependencies is an error.</p></li>

<li><p>Hard deleting old records for regulatory requirements gets really, really easy: <code>DELETE FROM deleted_record WHERE deleted_at &lt; now() - '1 year'::interval</code>.</p></li>
</ul>

<p>Deleted data is a little harder to get at, but not by much, and is still kept around in case someone needs to look at it.</p>


<div class="footnotes">
  <p><sup id="footnote-1"><a href="#footnote-1-source">1</a></sup> An ex-Stripe colleague just emailed me to say that at least in the old days, we would occasionally undelete customer records for users who’d gotten themselves into real trouble, but its use was discouraged, and rare. (Thanks OB!)</p>

</div>
<div class="divider-short"></div><div class="info"><div class="publishing-info-bottom sf-hidden"></div><p>Did I make a mistake? Please consider <a href="https://github.com/brandur/sorg/edit/master/content/articles/soft-deletion.md">sending a pull request</a>.</p></div></article></div></div></div></div></div></body></html>
